<div class="container">
  <div class="row">
    <div class="col-xl-4"></div>
    <div class="col-xl-4">
      <h4 class="mb-5"><%= t(:password_recovery).titleize %></h4>

      <p><%= t(:password_recovery_text) %></p>

      <a data-toggle="modal" data-target="#token-info-modal" href="#0"><%= t(:what_is_the_token) %></a>

      <%= form_tag(recover_path, method: "post") do %>
        <div class="form-group mt-3">
          <label><%= t(:username) %></label>
          <%= text_field_tag(:username, params[:username], autofocus: true, class: "form-control") %>
        </div>

        <div class="form-group">
          <label><%= t(:token) %></label>
          <%= text_field_tag(:token, params[:token], autofocus: true, class: "form-control") %>
        </div>

        <div class="form-group">
          <label><%= t(:new_password) %></label>
          <%= password_field_tag(:new_password, "", class: "form-control") %>
        </div>

        <div class="form-group">
          <label><%= t(:confirm_password) %></label>
          <%= password_field_tag(:confirm_password, "", class: "form-control") %>
        </div>

        <div class="mb-3">
          <%= submit_tag(t(:submit), class: "btn btn-sm btn-primary") %>
        </div>
      <% end %>
    </div>
  </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="token-info-modal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><%= t(:token) %></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <%= image_tag('token-info.png', style: 'width: 100%;') %>
      </div>
    </div>
  </div>
</div>
